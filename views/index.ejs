<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="branding">
            <img src="/public/images/logo.png" alt="Delulu Delata Logo" /><h1><a href="/">Delulu Delata</a></h1>
            <p>Pag Delata ang Problema...</p>
        </div>
        <nav class="header-nav">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/products">Products</a></li>
                <% if (isLoggedIn) { %>
                <li><a href="<%= req.session.user.role === 'admin' ? '/users/admin' : '/user/dashboard' %>">Dashboard</a></li>
                <% } %>
                <li><a href="/about">About</a></li>
                <li><a href="/contact">Contact</a></li>
            </ul>
        </nav>
        <div class="auth-links">
            <% if (isLoggedIn) { %>
            <span>Welcome, <%= req.session.user.firstName %>!</span>
            <a href="/users/logout">Logout</a>
            <% } else { %>
            <a href="/users/login">Login</a> | <a href="/users/register">Register</a>
            <% } %>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Welcome to Delulu Delata!</h1>
            <p>Your one-stop shop for premium canned goods. Pag Delata ang Problema... Taste the difference!</p>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="featured-products">
        <h2>Featured Products</h2>
        <div class="product-list">
            <% if (featuredProducts && featuredProducts.length > 0) { %>
                <% featuredProducts.forEach(product => { %>
                    <div class="product-card">
                        <img src="<%= product.imageUrl || '/public/images/default-can.png' %>" alt="<%= product.name %>">
                        <h3><%= product.name %></h3>
                        <p><%= product.description %></p>
                        <div class="price">â‚±<%= product.price.toFixed(2) %></div>
                        <a href="/products" class="add-to-cart" style="text-decoration: none;">Shop Now</a>
                    </div>
                <% }); %>
            <% } else { %>
                <p>No products available at the moment. Please check back later!</p>
            <% } %>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <ul>
            <li><a href="/terms">Terms & Conditions</a></li>
            <li><a href="/privacy">Privacy Policy</a></li>
        </ul>
        <p>&copy; 2025 Delulu Delata. All rights reserved.</p>
    </footer>

    <!-- Dynamic Script -->
    <script>
        // Add sparkle effect to buttons on hover
        document.addEventListener('DOMContentLoaded', function() {
            const buttons = document.querySelectorAll('.add-to-cart, .submit-btn');
            buttons.forEach(button => {
                button.addEventListener('mouseenter', function() {
                    button.style.transform = 'scale(1.05)';
                    button.style.boxShadow = '0 6px 20px rgba(0, 212, 255, 0.5), 0 0 30px rgba(255, 0, 127, 0.5)';
                });
                button.addEventListener('mouseleave', function() {
                    button.style.transform = 'scale(1)';
                    button.style.boxShadow = '0 4px 15px rgba(255, 0, 127, 0.3)';
                });
            });
        });
    </script>
</body>
</html>
